<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Configura tu partido</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>

  <header>
    <div class="header-content">
      <div class="header-top">
        <img src="imgs/logo-us.png" alt="Logo" class="header-logo">
        <div class="header-divider"></div>
        <h2><i class="fa-solid fa-table-tennis-paddle-ball"></i> Configura tu partido</h2>
      </div>

      <div class="separator"></div>

      <!-- Estado de la cancha -->
      <div id="estado-cancha" class="cancha-check">
        <span class="led"></span>
        <span class="texto-estado">COMPROBANDO ...</span>
      </div>

      <div id="cancha-msg" class="cancha-mensaje" style="display:none;">
        <p><i class="fa-solid fa-circle-exclamation"></i>
          Partido en curso. Espere a que finalice para configurar uno nuevo. No recargue ni cierre esta p谩gina, de lo
          contrario deber谩 completar nuevamente el formulario.</p>
      </div>

    </div>
  </header>

  <main>
    <!-- Paso 1: Nombres y pulseras -->
    <section class="step active" id="step1">
      <div class="card">
        <div class="club-header">
          <h3 style="margin-bottom: 0;">Club:</h3>
          <img id="club-logo" src="imgs/clubs/la-esquina.png" alt="Club Logo" class="club-logo-img">
          <h3 id="cancha-label" style="margin-bottom: 0; margin-left: auto; color: var(--accent);">Cancha: <span
              id="cancha-num">-</span></h3>
        </div>
      </div>

      <div class="card">
        <h3>Pareja 1</h3>
        <input type="text" id="p1j1" placeholder="Jugador/a 1">
        <input type="text" id="p1j2" placeholder="Jugador/a 2">
        <label>Pulsera:</label>
        <select id="bracelet-team1" required>
          <option value="" disabled selected hidden class="placeholder">Seleccionar Pulsera</option>
          <option value="roja">Roja</option>
          <option value="azul">Azul</option>
          <option value="verde">Verde</option>
          <option value="amarilla">Amarilla</option>
        </select>
      </div>

      <div class="card">
        <h3>Pareja 2</h3>
        <input type="text" id="p2j1" placeholder="Jugador/a 3">
        <input type="text" id="p2j2" placeholder="Jugador/a 4">
        <label>Pulsera:</label>
        <select id="bracelet-team2" required>
          <option value="" disabled selected hidden class="placeholder">Seleccionar Pulsera</option>
          <option value="roja">Roja</option>
          <option value="azul">Azul</option>
          <option value="verde">Verde</option>
          <option value="amarilla">Amarilla</option>
        </select>
      </div>

      <div class="error-msg" id="step1-error"><i class="fa-solid fa-triangle-exclamation"></i> Ning煤n campo puede quedar
        vac铆o ni repetido.</div>

      <div class="nav-buttons">
        <button class="next" id="step1-next" disabled>Siguiente</button>
      </div>
    </section>

    <!-- Paso 3: Modos de juego -->
    <section class="step" id="step3">
      <div class="card">
        <h3>Tiempo de calentamiento</h3>
        <label><input type="radio" name="calentamiento" value="0" required> Sin calentamiento</label>
        <label><input type="radio" name="calentamiento" value="5"> 5 minutos</label>
        <label><input type="radio" name="calentamiento" value="10"> 10 minutos</label>
      </div>

      <div class="card">
        <h3>Cambio de lado</h3>
        <label><input type="radio" name="cambio" value="set" required> Al finalizar cada SET</label>
        <label><input type="radio" name="cambio" value="tradicional"> Tradicional (impares)</label>
        <label><input type="radio" name="cambio" value="ninguno"> Sin cambios</label>
      </div>

      <div class="card">
        <h3>Games</h3>
        <label><input type="radio" name="games" value="punto-oro" required> Punto de oro</label>
        <label><input type="radio" name="games" value="deuce"> Deuce / Advantage</label>
      </div>

      <div class="nav-buttons">
        <button class="prev">Volver</button>
        <button class="next" id="step3-next">Siguiente</button>
      </div>
    </section>

    <!-- Paso 4: Duraci贸n y comienzo -->
    <section class="step" id="step4">
      <div id="card-duracion" class="card">
        <h3>Duraci贸n del partido</h3>
        <select id="duracion" required>
          <option value="30">30 minutos</option>
          <option value="60">1 hora</option>
          <option value="90">1 hora y media</option>
          <option value="120">2 horas</option>
        </select>
      </div>


      <div id="card-horarios" class="card">
        <h3>Inicio y finalizaci贸n del partido</h3>
        <div id="horarios-config">
          <label>Hora de inicio:</label>
          <select id="inicio-partido"></select>
          <label>Hora de finalizaci贸n:</label>
          <input type="text" id="fin-partido" readonly>
        </div>
      </div>

      <div id="card-torneo-container" class="card card-torneo">
        <label class="switch-container">
          <span class="switch-label">MODO TORNEO</span>
          <div class="switch">
            <input type="checkbox" id="modo-torneo">
            <span class="slider"></span>
          </div>
        </label>

        <div id="torneo-config"
          style="display: none; margin-top: 20px; padding: 15px; background: rgba(155, 48, 255, 0.05); border-radius: var(--radius); border: 1px dashed var(--accent);">
          <label>Categor铆a:</label>
          <select id="categoria-torneo">
            <option value="Cab.1ra">Cab. 1ra</option>
            <option value="Cab.2da">Cab. 2da</option>
            <option value="Cab.3ra">Cab. 3ra</option>
            <option value="Cab.4ta">Cab. 4ta</option>
            <option value="Cab.5ta">Cab. 5ta</option>
            <option value="Cab.6ta">Cab. 6ta</option>
            <option value="Cab.7ma">Cab. 7ma</option>
            <option value="Cab.8va">Cab. 8va</option>

            <option value="Dam.1ra">Dam. 1ra</option>
            <option value="Dam.2da">Dam. 2da</option>
            <option value="Dam.3ra">Dam. 3ra</option>
            <option value="Dam.4ta">Dam. 4ta</option>
            <option value="Dam.5ta">Dam. 5ta</option>
            <option value="Dam.6ta">Dam. 6ta</option>
            <option value="Dam.7ma">Dam. 7ma</option>
            <option value="Dam.8va">Dam. 8va</option>

            <option value="MANUAL">MANUAL</option>
          </select>
          <div id="categoria-manual-container" style="display: none;">
            <label>Especificar Categor铆a:</label>
            <input type="text" id="categoria-manual" placeholder="M谩x 7 caract." maxlength="7">
          </div>
        </div>
      </div>


      <div class="nav-buttons">
        <button class="prev">Volver</button>
        <button class="finish">Finalizar</button>
      </div>
    </section>
  </main>

  <!--  Bot贸n flotante de feedback -->
  <div id="feedback-bubble" class="feedback-bubble">
    <i class="fa-solid fa-comment-dots"></i>
  </div>

  <!--  Modal de feedback -->
  <div id="feedback-modal" class="feedback-modal" style="display: none;">
    <div class="feedback-modal-content">
      <div class="feedback-modal-header">
        <h2> Contanos qu茅 te pareci贸</h2>
      </div>
      <div class="feedback-modal-body">
        <p>驴Algo no te funcion贸 como esperabas?
          驴Ten茅s una idea para mejorar el sistema o simplemente quer茅s contarnos qu茅 te parece?
          Te leemos.</p>
        <textarea id="feedback-text" placeholder="Escrib铆 ac谩 lo que quieras contarnos:
algo que no te funcion贸, una idea, o tu opini贸n sobre la aplicaci贸n." rows="6"></textarea>
      </div>
      <div class="feedback-modal-footer">
        <button id="feedback-cancel" class="feedback-btn-cancel">Cancelar</button>
        <button id="feedback-send" class="feedback-btn-send">Enviar</button>
      </div>
    </div>
  </div>

  <!--  Modal de 茅xito (Configuraci贸n completa) -->
  <div id="success-modal" class="success-modal" style="display: none;">
    <div class="success-modal-content">
      <div class="success-icon">
        <i class="fa-solid fa-circle-check"></i>
      </div>
      <h2>隆Configuraci贸n Exitosa!</h2>
      <p>Segu铆 las instrucciones en la pantalla.<br>Disfrut谩 del marcador AlToque.</p>
      <div class="success-modal-footer">
        <button id="btn-reset" class="btn-reset">Configurar otro partido</button>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="script.js"></script>
</body>

</html>